<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.0" />






<meta name="description" content="现在很多 APP 为了保持界面的统一，会让 iOS 状态栏的背景颜色和导航栏的颜色一致，有的时候还会隐藏状态栏，开发中修改状态栏往往一次弄好之后就不会再改变了，下面就记录一下各种调整状态栏颜色以及隐藏状态栏的设置（本文的内容只适用于 iOS7 及以上） 了解一下状态栏（UIStatusBar）所谓状态栏就是我们的 iPhone 手机屏幕最顶端的20个像素高的那一部分，状态栏左边一般会有手机信号强度">
<meta name="keywords" content="iOS">
<meta property="og:type" content="article">
<meta property="og:title" content="聊一聊 iOS 状态栏">
<meta property="og:url" content="http://yoursite.com/2017/05/24/Talk-about-the-status-bar-of-iOS/index.html">
<meta property="og:site_name" content="笑忘书店">
<meta property="og:description" content="现在很多 APP 为了保持界面的统一，会让 iOS 状态栏的背景颜色和导航栏的颜色一致，有的时候还会隐藏状态栏，开发中修改状态栏往往一次弄好之后就不会再改变了，下面就记录一下各种调整状态栏颜色以及隐藏状态栏的设置（本文的内容只适用于 iOS7 及以上） 了解一下状态栏（UIStatusBar）所谓状态栏就是我们的 iPhone 手机屏幕最顶端的20个像素高的那一部分，状态栏左边一般会有手机信号强度">
<meta property="og:image" content="http://onzskckoz.bkt.clouddn.com/statusbar_compare.png">
<meta property="og:updated_time" content="2017-06-03T07:13:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="聊一聊 iOS 状态栏">
<meta name="twitter:description" content="现在很多 APP 为了保持界面的统一，会让 iOS 状态栏的背景颜色和导航栏的颜色一致，有的时候还会隐藏状态栏，开发中修改状态栏往往一次弄好之后就不会再改变了，下面就记录一下各种调整状态栏颜色以及隐藏状态栏的设置（本文的内容只适用于 iOS7 及以上） 了解一下状态栏（UIStatusBar）所谓状态栏就是我们的 iPhone 手机屏幕最顶端的20个像素高的那一部分，状态栏左边一般会有手机信号强度">
<meta name="twitter:image" content="http://onzskckoz.bkt.clouddn.com/statusbar_compare.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/05/24/Talk-about-the-status-bar-of-iOS/"/>





  <title> 聊一聊 iOS 状态栏 | 笑忘书店 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">笑忘书店</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/24/Talk-about-the-status-bar-of-iOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaovv">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="笑忘书店">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                聊一聊 iOS 状态栏
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T21:36:49+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/05/24/Talk-about-the-status-bar-of-iOS/" class="leancloud_visitors" data-flag-title="聊一聊 iOS 状态栏">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>现在很多 APP 为了保持界面的统一，会让 iOS 状态栏的背景颜色和导航栏的颜色一致，有的时候还会隐藏状态栏，开发中修改状态栏往往一次弄好之后就不会再改变了，下面就记录一下各种调整状态栏颜色以及隐藏状态栏的设置（本文的内容只适用于 iOS7 及以上）</p>
<h3 id="了解一下状态栏（UIStatusBar）"><a href="#了解一下状态栏（UIStatusBar）" class="headerlink" title="了解一下状态栏（UIStatusBar）"></a>了解一下状态栏（UIStatusBar）</h3><p>所谓状态栏就是我们的 iPhone 手机屏幕最顶端的20个像素高的那一部分，状态栏左边一般会有手机信号强度、运营商名字、Wi-Fi状态显示，中间会显示时间，状态栏右边会有定位显示、蓝牙显示已经电量显示</p>
<p>状态栏分两个部分：</p>
<ul>
<li>前景部分：就是上面说到的时间、电量等</li>
<li>背景部分：就是状态栏背景</li>
</ul>
<p>如图，上面的状态栏前景黑色，背景白色，下面的状态栏前景白色，背景黑色</p>
<p><img src="http://onzskckoz.bkt.clouddn.com/statusbar_compare.png" alt=""></p>
<h3 id="设置-UIStatusBar-的前景部分"><a href="#设置-UIStatusBar-的前景部分" class="headerlink" title="设置 UIStatusBar 的前景部分"></a>设置 UIStatusBar 的前景部分</h3><p>前景部分也就是时间、电量显示的这部分，有两种设置</p>
<ul>
<li>UIStatusBarStyleDefault（默认的黑色）</li>
<li>UIStatusBarStyleLightContent（白色）</li>
</ul>
<p>我们可以在 <code>Info.plist</code> 和代码里面设置这两种前景颜色样式</p>
<h4 id="Info-plist-里面设置"><a href="#Info-plist-里面设置" class="headerlink" title="Info.plist 里面设置"></a><code>Info.plist</code> 里面设置</h4><p>在 <code>Info.plist</code> 里增加一个 <code>Status bar style</code>的键，这个键对应的值就是我们需要的 <code>UIStatusBarStyleDefault</code> 或 <code>UIStatusBarStyleLightContent</code><br>另外还需要在 <code>Info.plist</code> 增加一个 <code>View controller-based status bar appearance</code> 的键并且值设置为 <code>NO</code>，这样 APP 启动之后前景的颜色样式就是 <code>Info.plist</code> 里面设置的风格了</p>
<h4 id="代码里面设置"><a href="#代码里面设置" class="headerlink" title="代码里面设置"></a>代码里面设置</h4><h5 id="用-UIApplication-设置"><a href="#用-UIApplication-设置" class="headerlink" title="用 UIApplication 设置"></a>用 <code>UIApplication</code> 设置</h5><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setStatusBarStyle:<span class="built_in">UIStatusBarStyleLightContent</span>];</div><div class="line"></div><div class="line"><span class="comment">//效果和上面的一样，增加了动画</span></div><div class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setStatusBarStyle:<span class="built_in">UIStatusBarStyleLightContent</span> animated:<span class="literal">YES</span>];</div></pre></td></tr></table></figure>
<p>这种方法也需要在 <code>Info.plist</code> 增加一个 <code>View controller-based status bar appearance</code> 的键并且值设置为 <code>NO</code></p>
<p>这里解释一下 <code>View controller-based status bar appearance</code>，这是官方文档的说明：</p>
<blockquote>
<p>UIViewControllerBasedStatusBarAppearance (Boolean - iOS) Specifies whether the status bar appearance is based on the style preferred by the view controller that is currently under the status bar. When this key is not present or its value is set to YES, the view controller determines the status bar style. When the key is set to NO, view controllers (or the app) must each set the status bar style explicitly using the UIApplication object.</p>
<p>This key is supported in iOS 7.0 and later.</p>
</blockquote>
<p>意思就是： 当该键不存在或其值设置为 <code>YES</code> 时，状态栏的样式由视图控制器决定（下面会讲到），当键设置为 <code>NO</code> 时，视图控制器（或应用程序）必须使用 <code>UIApplication</code> 对象显式地设置状态栏样式，这也解释了为什么上面的 <code>Info.plist</code> 和 <code>UIApplication</code> 设置状态栏样式需要把这个键设置为 <code>NO</code></p>
<h5 id="UIViewController-里设置"><a href="#UIViewController-里设置" class="headerlink" title="UIViewController 里设置"></a><code>UIViewController</code> 里设置</h5><p>上面使用 <code>UIApplication</code> 设置状态栏的样式的方法在 iOS9 已经被废弃了，苹果推荐使用 <code>UIViewController</code> 的 <code>- preferredStatusBarStyle</code> 方法设置状态栏的样式，我们只需要在 <code>UIViewController</code> 里面重写 <code>- preferredStatusBarStyle</code> 方法，并返回需要的状态栏样式即可</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="built_in">UIStatusBarStyleLightContent</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个方法需要注意：</p>
<ul>
<li>控制器在显示的时候就会立即调用这个方法，并根据这个方法设置状态栏的样式</li>
<li>如果当前控制器已经显示出来了，你还希望可以改变当前的状态栏的样式，就需要用到另一个方法 <code>- setNeedsStatusBarAppearanceUpdate</code>，这个方法会通知系统去调用当前 <code>UIViewController</code>的<code>- preferredStatusBarStyle</code> 方法，这样就可以重新设置当前控制器页面的状态栏样式了</li>
</ul>
<p>但是实际使用中我们一般不会单独使用 <code>ViewController</code> 而是把 <code>ViewController</code> 加在 <code>UINavigationController</code> 里面使用，这个时候 <code>ViewController</code> 里面的 <code>- preferredStatusBarStyle</code> 方法并不会被调用，这个时候就需要用到 <code>ViewController</code> 的另一个方法 <code>- childViewControllerForStatusBarStyle</code></p>
<p>如果是 <code>ViewController</code> 配合 <code>UINavigationController</code> 使用但是又希望状态栏的样式由当前的控制器决定，可以这样做：自定义一个继承自 <code>UINavigationController</code> 的子类，并且重写这个子类的 <code>- childViewControllerForStatusBarStyle</code> 方法：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">UIViewController</span> *)childViewControllerForStatusBarStyle&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.topViewController;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>重写这个方法的意思就是，不调用当前 <code>UINavigationController</code> 的<code>- preferredStatusBarStyle</code> 方法，而是去调用<code>navigationController.topViewController</code> 的<code>preferredStatusBarStyle</code> 方法，这样就能保证当前显示的<code>UIViewController</code> 的 <code>preferredStatusBarStyle</code> 可以决定状态栏的样式，除了重写子类的方法也可以使用分类的方法可以 <a href="http://cocoa.venj.me/blog/view-controller-based-status-bar-style-and-uinavigationcontroller/" target="_blank" rel="external">参考这里</a></p>
<p>另外，有时我们当前显示的 <code>UIViewController</code> 可能添加了多个 <code>childViewController</code>，重写当前 <code>UIViewController</code> 的<code>childViewControllerForStatusBarStyle</code> 方法，也可以使 <code>childViewController</code> 的 <code>preferredStatusBarStyle</code> 生效(当前 <code>UIViewController</code> 的 <code>preferredStatusBarStyle</code> 就不会被调用了)</p>
<p>总结起来就是：只要重写 <code>UIViewController</code> 的<code>childViewControllerForStatusBarStyle</code> 方法返回值不是<code>nil</code>，那么这个 <code>UIViewController</code> 的 <code>preferredStatusBarStyle</code> 方法就不会被调用，而是会调用 <code>childViewControllerForStatusBarStyle</code> 这个方法返回的那个<code>UIViewController</code> 的 <code>preferredStatusBarStyle</code> 方法</p>
<h3 id="设置-UIStatusBar-的背景部分"><a href="#设置-UIStatusBar-的背景部分" class="headerlink" title="设置 UIStatusBar 的背景部分"></a>设置 UIStatusBar 的背景部分</h3><p>iOS7 以后默认情况下状态栏的背景为透明的，设置它的背景色有两种方法：</p>
<p>第一种是系统方法通过设置 <code>navigationBar</code> 的 <code>barTintColor</code> 颜色来改变状态栏颜色，另一种办法是我们自己写一个 <code>UIView</code> 作为背景添加到状态栏下面，这样就可以随意设置状态栏的颜色了</p>
<h4 id="系统方法"><a href="#系统方法" class="headerlink" title="系统方法"></a>系统方法</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.navigationController.navigationBar.barTintColor = [<span class="built_in">UIColor</span> redColor];</div><div class="line"><span class="comment">// UINavigationBar的半透明效果,默认为 YES</span></div><div class="line"><span class="keyword">self</span>.navigationController.navigationBar.translucent = <span class="literal">NO</span>;</div></pre></td></tr></table></figure>
<p>如果你设置了 <code>navigationBar</code> 的 <code>- setBackgroundImage:(UIImage *)backgroundImage forBarMetrics:(UIBarMetrics)barMetrics</code> ，那么上面的 <code>setBarTintColor</code> 就就失效了</p>
<h4 id="自定义-View"><a href="#自定义-View" class="headerlink" title="自定义 View"></a>自定义 View</h4><p>创建一个 <code>UIView</code>，设置该 <code>UIView</code>的 <code>frame</code> 和 <code>statusBar</code>一样（{0,-20,self.view.bounds.size.width,20}），然后设置该<code>UIView</code> 的背景色为你希望的状态栏的颜色，然后在 <code>navigationBar</code> 上<code>addSubView</code> 该 <code>UIView</code> 即可，这种方式，可以使状态的背景颜色和导航栏的背景颜色区不一样</p>
<h3 id="状态栏隐藏"><a href="#状态栏隐藏" class="headerlink" title="状态栏隐藏"></a>状态栏隐藏</h3><p>状态栏隐藏和设置的状态栏的前景样式方法是类似的，也分为两种情况，一种是在 <code>Info.plist</code> 里面设置，一种是在 `` 里面设置</p>
<h4 id="Info-plist-设置隐藏状态栏"><a href="#Info-plist-设置隐藏状态栏" class="headerlink" title="Info.plist 设置隐藏状态栏"></a><code>Info.plist</code> 设置隐藏状态栏</h4><p>同样的也可以使用 <code>UIApplication</code> 的方法隐藏，但是记住 <code>View controller-based status bar appearance</code> 的要设置为 <code>NO</code></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setStatusBarHidden:<span class="literal">YES</span>];</div><div class="line"></div><div class="line"><span class="comment">// 隐藏时候可以选择带动画的隐藏    </span></div><div class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setStatusBarHidden:<span class="literal">YES</span> withAnimation:<span class="built_in">UIStatusBarStyleDefault</span>];</div></pre></td></tr></table></figure>
<p>有时候我们需要在 APP 启动页面隐藏状态栏，我们需要 <code>Info.plist</code> 里增加一个 <code>Status bar is initially hidden</code> 的键，设置为 <code>YES</code>，这样就 APP 启动页面就会隐藏状态栏</p>
<p>以上的方法也是在 iOS9 之后被废弃了，苹果推荐使用 <code>UIViewController</code> 的 <code>- prefersStatusBarHidden</code> 方法</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)prefersStatusBarHidden&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 状态隐藏显示的动画对应上面 UIApplication 的动画方法</span></div><div class="line">- (<span class="built_in">UIStatusBarAnimation</span>)preferredStatusBarUpdateAnimation&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="built_in">UIStatusBarAnimationSlide</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个方法类似 <code>preferredStatusBarStyle</code>，也有一个 <code>childViewControllerForStatusBarHidden</code> 的方法和 <code>- childViewControllerForStatusBarStyle</code> 对应，作用和上面修改状态栏前景样式是一样的，就不再赘述了，但是有点不一样 </p>
<ul>
<li><code>UIViewController</code> 即使和 <code>UINavigationController</code> 配合使用依然可以在自己的 <code>- prefersStatusBarHidden</code> 方法里面返回 <code>YES</code> 隐藏状态栏，只有当 <code>UIViewController</code> 有多个 <code>childViewController</code> 并且需要在某个 <code>childViewController</code> 里面隐藏状态栏，这时候才需要重写 <code>UIViewController</code> 的 <code>childViewControllerForStatusBarHidden</code> 返回需要隐藏状态栏的那个 <code>childViewController</code></li>
<li>另外，调用 <code>- setNeedsStatusBarAppearanceUpdate</code> 方法也会刷新 <code>- prefersStatusBarHidden</code> 方法</li>
</ul>
<p>以上就是我关于 iOS 状态栏的设置的一些记录</p>
<p><strong>本人刚开始写博客，主要是为了给自己的知识点做一个笔记，方便自己以后查阅，如果能让别人有所启发也是荣幸之至！如有错误，欢迎指正！</strong></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i> iOS</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/14/如何调整-UIButton-的图片和文字的相对位置/" rel="next" title="如何调整 UIButton 的图片和文字的相对位置">
                <i class="fa fa-chevron-left"></i> 如何调整 UIButton 的图片和文字的相对位置
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/28/MBProgressHUD-Source-notes/" rel="prev" title="MBProgressHUD 源码笔记">
                MBProgressHUD 源码笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="lv-container" data-id="city" data-uid="MTAyMC8yOTI5NS81ODYz"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Xiaovv" />
          <p class="site-author-name" itemprop="name">Xiaovv</p>
           
              <p class="site-description motion-element" itemprop="description">以绝大多数人的努力程度之低，根本轮不到去拼天赋</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#了解一下状态栏（UIStatusBar）"><span class="nav-number">1.</span> <span class="nav-text">了解一下状态栏（UIStatusBar）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置-UIStatusBar-的前景部分"><span class="nav-number">2.</span> <span class="nav-text">设置 UIStatusBar 的前景部分</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Info-plist-里面设置"><span class="nav-number">2.1.</span> <span class="nav-text">Info.plist 里面设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#代码里面设置"><span class="nav-number">2.2.</span> <span class="nav-text">代码里面设置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#用-UIApplication-设置"><span class="nav-number">2.2.1.</span> <span class="nav-text">用 UIApplication 设置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UIViewController-里设置"><span class="nav-number">2.2.2.</span> <span class="nav-text">UIViewController 里设置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置-UIStatusBar-的背景部分"><span class="nav-number">3.</span> <span class="nav-text">设置 UIStatusBar 的背景部分</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#系统方法"><span class="nav-number">3.1.</span> <span class="nav-text">系统方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义-View"><span class="nav-number">3.2.</span> <span class="nav-text">自定义 View</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#状态栏隐藏"><span class="nav-number">4.</span> <span class="nav-text">状态栏隐藏</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Info-plist-设置隐藏状态栏"><span class="nav-number">4.1.</span> <span class="nav-text">Info.plist 设置隐藏状态栏</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaovv</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  



  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("ExbW1brjn2sC5dnaqSPr46fx-gzGzoHsz", "E7JFSDRI5FJk12cqOCV1eiIC");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


  

</body>
</html>
